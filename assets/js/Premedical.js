
        // Department data with comprehensive information
        const depts = [
            {
                id: "Anatomy", name: "Anatomy", icon: "fa-person", color: "#e74c3c", colorDark: "#c0392b",
                desc: "Expert care for skin, hair, and nail conditions with advanced cosmetic dermatology services.",
                vision:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloremque impedit earum, exercitationem eligendi saepe magni iure, voluptatum ipsam cumque adipisci quasi asperiores debitis dolor, cum doloribus quod perspiciatis non modi!",
                mission:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloremque impedit earum, exercitationem eligendi saepe magni iure, voluptatum ipsam cumque adipisci quasi asperiores debitis dolor, cum doloribus quod perspiciatis non modi!",
                objectives:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci, porro.","Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci, porro.","Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci, porro."],
                infra: ["OPD rooms", "Inpatient wards", "ICU", "Procedure room"],
                faculty: [{name: "Ram", designation: "Assistant professor", exp: "5"},{name: "Sam", designation: "Assistant professor", exp: "5"},{name: "John", designation: "Assistant professor", exp: "5"}],
                services: ["General Dermatology", "Cosmetic Dermatology", "Laser Treatments", "Hair Restoration", "Acne Treatment", "Psoriasis Care", "Vitiligo Treatment", "Chemical Peels"],
                pubStats: [{label: "Publications", value: "28+"}, {label: "International", value: "12+"}],
                pubHighlights: ["Advances in psoriasis treatment", "Laser therapy in acne scars", "Novel vitiligo treatments"],
                pubYearwise: [
                    {year: "2024", title: "Biologic therapy in psoriasis", journal: "Dermatology International", type: "Research"},
                    {year: "2023", title: "Fractional CO2 laser in acne scars", journal: "Aesthetic Dermatology", type: "Clinical Study"}
                ],
                research: ["Novel vitiligo treatments", "Laser therapy advances", "Immunotherapy in skin diseases"],
                events: ["Skin Cancer Screening Camp", "World Psoriasis Day"],
                achievements: ["Excellence in Cosmetic Dermatology"],
                gallery: [
                    {name: "Consultation Room", icon: "fa-stethoscope", event: "Derma OPD", date: "Jan 20, 2024"},
                    {name: "Laser Unit", icon: "fa-bolt", event: "Laser Therapy Center", date: "Feb 14, 2024"}
                ]
            },
            {
                id: "Physiology", name: "Physiology", icon: "fa-heart-pulse", color: "#673ab7", colorDark: "#512da8",
                desc: "Comprehensive mental health services with counseling and therapy.",
                vision:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloremque impedit earum, exercitationem eligendi saepe magni iure, voluptatum ipsam cumque adipisci quasi asperiores debitis dolor, cum doloribus quod perspiciatis non modi!",
                mission:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloremque impedit earum, exercitationem eligendi saepe magni iure, voluptatum ipsam cumque adipisci quasi asperiores debitis dolor, cum doloribus quod perspiciatis non modi!",
                objectives:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci, porro.","Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci, porro.","Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci, porro."],
                infra: ["OPD rooms", "Inpatient wards", "ICU", "Procedure room"],
                faculty: [{name: "Ram", designation: "Assistant professor", exp: "5"},{name: "Sam", designation: "Assistant professor", exp: "5"},{name: "John", designation: "Assistant professor", exp: "5"}],
                services: ["General Psychiatry", "Depression Treatment", "Anxiety Disorders", "Addiction Treatment", "Counseling Services", "Child Psychiatry"],
                pubStats: [{label: "Publications", value: "20+"}],
                pubHighlights: ["Depression management"],
                pubYearwise: [{year: "2023", title: "Mental health interventions", journal: "Psychiatry Review", type: "Research"}],
                research: ["Mental health awareness", "Addiction treatment"],
                events: ["World Mental Health Day"],
                achievements: ["Excellence in Mental Health"],
                gallery: [{name: "Consultation Room", icon: "fa-couch", event: "Psychiatry Dept", date: "Oct 2024"}]
            },
            {
                "id": "biochemistry",
                "name": "Biochemistry",
                "icon": "fa-flask",
                "color": "#42a5f5",
                "colorDark": "#1e88e5",

                "desc": "The Department of Biochemistry at SRM Medical College Hospital and Research Centre, Trichy, offers undergraduate, postgraduate, and research programs with a strong focus on innovation, scientific inquiry, and applied biochemistry. The department integrates fundamental and advanced areas of biology, preparing students for global opportunities.",

                "vision": "To accentuate innovation, inquisition, and rational thinking in students, imparting quality education to achieve academic excellence.",

                "mission": [
                    "To establish a world-class learning ambience catering to the needs of aspiring students."
                ],

                "objectives": [
                    "Provide high-quality education in biochemistry.",
                    "Foster research and innovation.",
                    "Develop practical skills in students.",
                    "Enhance critical thinking and problem-solving abilities."
                ],

                "infra_desc": "The department has well-equipped laboratories and teaching resources to support academic, diagnostic, and research needs.",
                "infra": [
                    "General Biochemistry Lab (297.71 sq.m)",
                    "Department Research cum PG Lab (92.79 sq.m)",
                    "Clinical Biochemistry Lab 1 (24.50 sq.m)",
                    "Clinical Biochemistry Lab 2 (24.43 sq.m)"
                ],

                "teaching_research_infra": [
                    "Lecture halls and seminar rooms",
                    "Department library / e-library",
                    "Demonstration room"
                ],

                "faculty_desc": "The department has a team of experienced and dedicated faculty contributing to high-quality teaching, research and laboratory excellence.",
                "faculty": [
                    { "name": "Dr. K. Balaji", "designation": "Professor & HOD", "exp": "12" },
                    { "name": "Dr. A. Velayutharaj", "designation": "Professor", "exp": "14" },
                    { "name": "Dr. R. Thamarai", "designation": "Professor", "exp": "14" },
                    { "name": "Dr. G. Anitha", "designation": "Associate Professor", "exp": "7" },
                    { "name": "Dr. M. Monisha", "designation": "Associate Professor", "exp": "6" },
                    { "name": "Mr. A. Venkatesan", "designation": "Assistant Professor", "exp": "18" },
                    { "name": "Dr. M. Mirunaliny Murugesan", "designation": "Assistant Professor", "exp": "4" },
                    { "name": "Dr. A. Bhargavi", "designation": "Assistant Professor", "exp": "3" },
                    { "name": "Dr. P. Sankar", "designation": "Assistant Professor", "exp": "7" },
                    { "name": "Dr. Jyothimani", "designation": "Senior Resident", "exp": "6" },
                    { "name": "Dr. S. Ayyapan", "designation": "Senior Resident", "exp": "0" },
                    { "name": "Dr. Rajini L. Kalaiyarasan", "designation": "Senior Resident", "exp": "0" },
                    { "name": "Dr. M. Bharad", "designation": "Tutor", "exp": "0" },
                    { "name": "Dr. A. Thayal Sabatini", "designation": "Tutor", "exp": "0" },
                    { "name": "Dr. A. Allen Gift", "designation": "Tutor", "exp": "0" }
                ],

                "services_desc": "The department offers academic programs, research opportunities, and high-quality clinical biochemistry services.",
                "services": [
                    "Undergraduate and postgraduate programs in biochemistry",
                    "Research opportunities",
                    "Clinical biochemistry services",
                    "High-quality NABL-accredited laboratory service"
                ],

                "publication_overview": "The department has published numerous research papers in reputed national and international journals.",
                "pubStats": [
                    { "label": "Overall", "value": "17" },
                    { "label": "International", "value": "13" },
                    { "label": "National", "value": "4" }
                ],

                "pubHighlights": [
                    "Structural Biology and Cellular Signaling to elucidate molecular mechanisms in various disorders"
                ],

                "pubYearwise": [
                    {
                    "year": "2025",
                    "title": "Factors determining the yield of lymph node in colorectal carcinoma: a cross sectional study from a tertiary care hospital",
                    "journal": "Journal of Clinical and Diagnostic Research",
                    "type": "International journal"
                    },
                    {
                    "year": "2025",
                    "title": "Comparison of sodium and potassium values in arterial and venous blood samples",
                    "journal": "MGM Journal of Medical Science",
                    "type": "International journal"
                    },
                    {
                    "year": "2025",
                    "title": "Screening of TPO Gene A2173C Polymorphism and Thyroperoxidase Antibodies in Subclinical Hypothyroidism",
                    "journal": "International Journal of Academic Medicine and Pharmacy",
                    "type": "International journal"
                    },
                    {
                    "year": "2025",
                    "title": "Influence of hypothyroidism in serum calcium levels in postmenopausal women",
                    "journal": "Journal of Indian Medical Association",
                    "type": "National journal"
                    },
                    {
                    "year": "2025",
                    "title": "Correlation of Atherogenic Index of Plasma and Castelli Risk Indices with HbA1c in Type II Diabetes Mellitus Patients",
                    "journal": "International Journal of Medicine and Public Health",
                    "type": "International journal"
                    },
                    {
                    "year": "2023",
                    "title": "Relationship Between Depression and Thyroid Dysfunction in Patients Attending a Tertiary Care Hospital",
                    "journal": "International Journal of Pharmaceutical and Clinical Research",
                    "type": "International journal"
                    },
                    {
                    "year": "2023",
                    "title": "Assessment of Nutritional Risk Index and Prevalence of Malnutrition in Elderly Hospitalized Patients: A Prospective Study",
                    "journal": "International Journal of Pharmaceutical and Clinical Research",
                    "type": "International journal"
                    },
                    {
                    "year": "2021",
                    "title": "Evaluation of Serum Cholinesterase Levels Among Farm Workers Exposed to Chemical Pesticides",
                    "journal": "International Journal of Medical Science and Applied Research",
                    "type": "International journal"
                    },
                    {
                    "year": "2020",
                    "title": "A Study on C-Reactive Protein and Liver Function Test in RT-PCR Positive COVID-19 Patients – A Retrospective Study",
                    "journal": "International Journal of Current Research and Review",
                    "type": "International journal"
                    }
                ],

                "research_desc": "The department is actively involved in diverse research domains.",
                "research": [
                    "Metabolism and Bioenergetics",
                    "Neuro Biochemistry",
                    "Microbiome Studies",
                    "Clinical Biochemistry",
                    "Molecular Biology and Genetics"
                ],

                "events_desc": "The department organizes and participates in academic and student-focused programs.",
                "events": [
                    "Seminars",
                    "Workshops",
                    "Conferences",
                    "Guest Lectures",
                    "Quiz Programs"
                ],

                "achievements_desc": "The department has achieved notable milestones in research and academic excellence.",
                "achievements": [
                    "ICMR funded ongoing research projects",
                    "EQUIP – Elevating Quality in Research, Publications, Patents, Copyright – 2025",
                    "Bio Blaze – 2025 (Quiz program for undergraduate students)",
                    "Lab Technician Day 2025",
                    "Central Lab Biochemistry: Internal Quality Control Training with CAPA"
                ],

                "gallery": [
                    {
                    "name": "EQUIP – Elevating Quality in Research, Publications, Patents, Copyright",
                    "icon": "fa-flask",
                    "event": "EQUIP – Elevating Quality in Research, Publications, Patents, Copyright",
                    "path": "Biochemistry/1.PNG",
                    "date": "28 Feb 2025"
                    },
                    {
                    "name": "Lab Technician Day 2025",
                    "icon": "fa-flask",
                    "event": "Lab Technician Day 2025",
                    "path": "Biochemistry/2.PNG",
                    "date": "22 Mar 2025"
                    },
                    {
                    "name": "Bio Blaze – 2025",
                    "icon": "fa-flask",
                    "event": "Bio Blaze – 2025",
                    "path": "Biochemistry/3.PNG",
                    "date": "19 Apr 2025"
                    },
                    {
                    "name": "Central Lab –Biochemistry Importance of Internal Quality Control Traning With CAPA",
                    "icon": "fa-flask",
                    "event": "Central Lab –Biochemistry Importance of Internal Quality Control Traning With CAPA",
                    "path": "Biochemistry/4.PNG",
                    "date": "19 Apr 2025"
                    }
                ]
            }
        ];

        let currentDept = null;

        document.addEventListener('DOMContentLoaded', function() {
            renderSidebar();
            showDept(depts[0].id);
        });

        function renderSidebar() {
            const menu = document.getElementById('sidebarMenu');
            menu.innerHTML = depts.map(d => `
                <li><a href="#${d.id}" onclick="showDept('${d.id}');">
                    <i class="fas ${d.icon}"></i> ${d.name}
                </a></li>
            `).join('');
        }

        function showDept(id) {
            const d = depts.find(x => x.id === id);
            if (!d) return;
            
            currentDept = id;
            
            const det = document.getElementById('departmentDetail');
            det.classList.remove('hidden');
            det.classList.add('active');
            
            updateSidebarActive(id);
            renderDetail(d);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateSidebarActive(id) {
            document.querySelectorAll('.sidebar-nav a').forEach(a => a.classList.remove('active'));
            const d = depts.find(x => x.id === id);
            if (d) {
                document.querySelectorAll('.sidebar-nav a').forEach(a => {
                    if (a.textContent.trim().includes(d.name)) a.classList.add('active');
                });
            }
        }

        function renderDetail(d) {
            const container = document.getElementById('departmentDetail');
            container.style.setProperty('--dept-color', d.color);
            container.style.setProperty('--dept-color-dark', d.colorDark);
            
            let html = `
                <div class="detail-header" id="${d.id}">
                    <div class="detail-header-content">
                        <h2>
                            <div class="icon-large"><i class="fas ${d.icon}"></i></div>
                            ${d.name}
                        </h2>
                        <p>${d.desc}</p>
                    </div>
                </div>
            `;
            if (d.vision) {
                html += `
                    <div class="accordion-section">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <div class="accordion-title"><i class="fas fa-bullseye"></i> Vision & Mission</div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <h4>Vision</h4>
                                <br>
                                <ul>${d.vision}</ul>
                                <br><br>
                                <h4>Nission</h4>
                                <br>
                                <ul>${d.mission}</ul>
                                <br><br>
                                <h4>Objectives</h4>
                                <br>
                                <ul>${d.objectives.map(f => `<li>${f}</li>`).join('')}</ul>
                            </div>
                        </div>
                    </div>
                `;
            }

            if (d.infra) {
                html += `
                    <div class="accordion-section">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <div class="accordion-title"><i class="fas fa-hospital"></i> Infrastructure</div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>State-of-the-art facilities ensuring highest standards of patient care.</p>
                                <ul>${d.infra.map(f => `<li>${f}</li>`).join('')}</ul>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            if (d.faculty) {
                html += `
                    <div class="accordion-section">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <div class="accordion-title"><i class="fas fa-users"></i> Faculty</div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>State-of-the-art facilities ensuring highest standards of patient care.</p>
                                ${d.faculty ? `
                                        <div class="publication-table-wrapper">
                                            <table class="publication-table">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 10%">S.No</th>
                                                        <th style="width: 30%">Name of the Faculty</th>
                                                        <th style="width: 40%">Designation</th>
                                                        <th style="width: 20%">Experience</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    ${d.faculty.map((p,i) => `
                                                        <tr>
                                                            <td data-label="S.No">${i+1}</td>
                                                            <td data-label="Name of the Faculty"><strong>${p.name}</strong></td>
                                                            <td data-label="Designation">${p.designation}</td>
                                                            <td data-label="Experience"><span class="year-badge">${p.exp}+ Yrs</span></td>
                                                        </tr>
                                                    `).join('')}
                                                </tbody>
                                            </table>
                                        </div>
                                    ` : '<p>Year-wise publication data will be updated soon.</p>'}
                            </div>
                        </div>
                    </div>
                `;
            }

            
            
            if (d.services) {
                html += `
                    <div class="accordion-section">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <div class="accordion-title"><i class="fas fa-hand-holding-medical"></i> Services</div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>Comprehensive healthcare services catering to all needs.</p>
                                <ul>${d.services.map(s => `<li>${s}</li>`).join('')}</ul>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            if (d.pubStats) {
                html += `
                    <div class="accordion-section">
                        <div class="tabs-header" onclick="toggleAccordion(this)">
                            <div class="accordion-title"><i class="fas fa-book-medical"></i> Publications</div>
                            <i class="fas fa-chevron-down tabs-expand-icon"></i>
                        </div>
                        <div class="tabs-body">
                            <div class="tabs-content-wrapper">
                                <div class="tabs-nav">
                                    <button class="tab-button active" onclick="switchTab(event, 'overview-${d.id}')">Overview</button>
                                    <button class="tab-button" onclick="switchTab(event, 'yearwise-${d.id}')">Year-wise</button>
                                </div>
                                
                                <div id="overview-${d.id}" class="tab-content active">
                                    <p>Significant contributions to medical literature and research.</p>
                                    <div class="stats-grid">
                                        ${d.pubStats.map(s => `
                                            <div class="stat-card">
                                                <h4>${s.value}</h4>
                                                <p>${s.label}</p>
                                            </div>
                                        `).join('')}
                                    </div>
                                    ${d.pubHighlights ? `
                                        <h4 style="margin-top: 2rem; margin-bottom: 1rem; color: var(--color-text-primary);">Key Research Highlights</h4>
                                        <ul class="accordion-body" style="padding: 0;list-style:none;">
                                            ${d.pubHighlights.map(p => `<li>${p}</li>`).join('')}
                                        </ul>
                                    ` : ''}
                                </div>
                                
                                <div id="yearwise-${d.id}" class="tab-content">
                                    ${d.pubYearwise ? `
                                        <div class="publication-table-wrapper">
                                            <table class="publication-table">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 10%">Year</th>
                                                        <th style="width: 45%">Title</th>
                                                        <th style="width: 30%">Journal</th>
                                                        <th style="width: 15%">Type</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    ${d.pubYearwise.map(p => `
                                                        <tr>
                                                            <td data-label="Year"><span class="year-badge">${p.year}</span></td>
                                                            <td data-label="Title"><strong>${p.title}</strong></td>
                                                            <td data-label="Journal">${p.journal}</td>
                                                            <td data-label="Type"><span class="year-badge">${p.type}</span></td>
                                                        </tr>
                                                    `).join('')}
                                                </tbody>
                                            </table>
                                        </div>
                                    ` : '<p>Year-wise publication data will be updated soon.</p>'}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            if (d.research) {
                html += `
                    <div class="accordion-section">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <div class="accordion-title"><i class="fas fa-microscope"></i> Research</div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>Cutting-edge research advancing medical science.</p>
                                <ul>${d.research.map(r => `<li>${r}</li>`).join('')}</ul>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            if (d.events) {
                html += `
                    <div class="accordion-section">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <div class="accordion-title"><i class="fas fa-calendar-alt"></i> Events</div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>Regular conferences, training programs, and awareness campaigns.</p>
                                <ul>${d.events.map(e => `<li>${e}</li>`).join('')}</ul>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            if (d.achievements) {
                html += `
                    <div class="accordion-section">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <div class="accordion-title"><i class="fas fa-trophy"></i> Achievements</div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>Recognition and awards for excellence in healthcare.</p>
                                <ul>${d.achievements.map(a => `<li>${a}</li>`).join('')}</ul>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            if (d.gallery) {
                html += `
                    <div class="accordion-section">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <div class="accordion-title"><i class="fas fa-images"></i> Gallery</div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="accordion-body">
                                <p>Visual documentation of our facilities, events, and achievements.</p>
                                <div class="gallery-grid">
                                    ${d.gallery.map(img => `
                                        <div class="gallery-item">
                                            <div class="gallery-placeholder">
                                                <img src="./assets/images/gallery/${img.path}">
                                            </div>
                                            <div class="gallery-overlay">
                                                <div class="gallery-overlay-title">${img.event}</div>
                                                <div class="gallery-overlay-date"><i class="fas fa-calendar"></i> ${img.date}</div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            container.innerHTML = html;
        }

        

    function toggleAccordion(header) {
            const isActive = header.classList.contains('active');
            
            // Close all accordions (including publications)
            document.querySelectorAll('.accordion-header, .tabs-header').forEach(h => {
                h.classList.remove('active');
                h.nextElementSibling.classList.remove('active');
            });
            
            // If the clicked accordion wasn't active, open it
            if (!isActive) {
                header.classList.add('active');
                header.nextElementSibling.classList.add('active');
            }
        }

        function switchTab(event, tabId) {
            const container = event.target.closest('.tabs-content-wrapper');
            container.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            container.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }